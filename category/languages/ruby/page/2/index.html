<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head profile="http://gmpg.org/xfn/11">
	<meta http-equiv="Content-Type" 
        content="text/html; charset=UTF-8" />

  <title>  Ruby</title>
	<meta name="generator" content="WordPress 2.0.1" />

	<link rel="stylesheet" href="http://lesscode.org/wp-content/themes/almodovar/style.css" type="text/css" media="screen" />
	<link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://lesscode.org/feed/" />
	<link rel="alternate" type="text/xml" title="RSS .92" href="http://lesscode.org/feed/rss/" />
	<link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="http://lesscode.org/feed/atom/" />
	<link rel="pingback" href="http://lesscode.org/xmlrpc.php" />

        <script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
        </script>
        <script type="text/javascript">
        _uacct = "UA-125803-1";
        urchinTracker();
        </script>
		<link rel='archives' title='October 2006' href='http://lesscode.org/2006/10/' />
	<link rel='archives' title='April 2006' href='http://lesscode.org/2006/04/' />
	<link rel='archives' title='March 2006' href='http://lesscode.org/2006/03/' />
	<link rel='archives' title='January 2006' href='http://lesscode.org/2006/01/' />
	<link rel='archives' title='December 2005' href='http://lesscode.org/2005/12/' />
	<link rel='archives' title='November 2005' href='http://lesscode.org/2005/11/' />
	<link rel='archives' title='October 2005' href='http://lesscode.org/2005/10/' />
	<link rel='archives' title='September 2005' href='http://lesscode.org/2005/09/' />
	<link rel='archives' title='August 2005' href='http://lesscode.org/2005/08/' />
	<link rel='archives' title='July 2005' href='http://lesscode.org/2005/07/' />
	<link rel='archives' title='June 2005' href='http://lesscode.org/2005/06/' />
	<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://lesscode.org/xmlrpc.php?rsd" />
</head>
<body>

<div id="page">
<h1><a href="http://lesscode.org">lesscode.org</a></h1>
<div id="navcontainer">
		<ul id="navlist">
			<li class="page_item"><a href="http://lesscode.org/archives/" title="archives">archives</a></li>
<li class="page_item"><a href="http://lesscode.org/about/" title="about lesscode.org">about lesscode.org</a></li>
		</ul>
</div>
<hr />

	<div id="content" class="narrowcolumn">

		
		 		<h2>'Ruby' Archives</h2>

 	  
				<div class="post">
				<h2 id="post-87"><a href="http://lesscode.org/2005/09/20/lesscode-more-docs/" rel="bookmark" title="Permanent Link to lesscode &#8230; more docs?">lesscode &#8230; more docs?</a>&nbsp;&nbsp;<span><a href="http://lesscode.org/2005/09/20/lesscode-more-docs/#comments" title="Comment on lesscode ... more docs?">21</a> </span></h2>
				<small>Cat.: <a href="http://lesscode.org/category/languages/ruby/" title="View all posts in Ruby" rel="category tag">Ruby</a>,  <a href="http://lesscode.org/category/languages/php/" title="View all posts in PHP" rel="category tag">PHP</a>,  <a href="http://lesscode.org/category/by-status/first-they-ignore-you/" title="View all posts in First they ignore you.." rel="category tag">First they ignore you..</a>,  <a href="http://lesscode.org/category/by-stack/rails/" title="View all posts in Rails" rel="category tag">Rails</a><br />20. September 2005</small>

				<div class="entry">
					<p>I&#8217;ll take it as a given that if you&#8217;re reading this then you agree that, for the sake of sanity and productivity, it&#8217;s time coders gave up on roll-your-own, and moved over to modern frameworks where one can concentrate on business logic rather than request parsing (and get all those AJAX goodies for free ;-) ).</p>

<p>I&#8217;ve been looking on with interest for the last year and a bit, and as I&#8217;ve watched the pioneers blaze their XP, RoR, lesscode trail across the web-firmament, I&#8217;ve begun to suspect that I must have missed something. Yes, it&#8217;s powerful stuff, and yes it isn&#8217;t all smoke and mirrors - there really is &#8220;gold in them thar hills&#8230;&#8221; - but, and for me it&#8217;s a big but, we seem to be missing the big picture. Where are the map makers? Where&#8217;s the documentation for the second (or third) wave?</p>

<p>Self-documenting code is all very well, and having a common vocabulary of design patterns helps when discussing solutions to individual problems. But what second-wavers really need (and I include myself here - no, actually, put me down as a third-waver) are more pictures. More exposition. Road maps.</p>

<p>Is there a way to add XD (eXtreme Documentation?) back into the XP mix? Writing elegant code is hard, and people who do it earn the admiration they received. But I would argue that writing good documentation is harder, and that it shouldn&#8217;t be left for the second-wavers to do. </p>

<p>People who&#8217;ve moved to XP have already gone thorugh the pain barrier of</p>

<ul>
<li>write the tests</li>
<li>then write the code</li>
<li>(then refactor)</li>
</ul>

<p>and have proved that in the long run, it means better code, less debugging, in less time. But having proved that <em>that</em> works, might there be some benefit in switching to;</p>

<ul>
<li>write the spec</li>
<li>then write the tests</li>
<li>then write the code</li>
<li>(then refactor)</li>
<li>then write an overview!!!</li>
</ul>

<p>Might this result in (my h-nought) more easily modfied code, quicker adoption by other coders, greater community support?</p>

<p>I&#8217;m genuinely interested in other people&#8217;s views on moving documentation down(?) the food-chain, so that it&#8217;s non-optional, and as integral to writing new code (and frameworks) as writing good tests. Yes, there are good auto-doc tools and methodologies out there, but that right now they still seem to be seen as secondary to the process by Joe Frontiersman, and they only deal with what&#8217;s in the file, not what&#8217;s in the coder&#8217;s/architect&#8217;s head. (There&#8217;s the nine diagrams of UML, yes, but who on the bleeding-wrist of open-source technology is actively using/sharing designs via UML?) </p>

<p>Let me know if I&#8217;ve missed a trick somewhere.</p>

<p>[A few thoughts for the pot: I believe the that the reason the Open Source model works because it&#8217;s based on non-coercive collaboration. But Source Forge is littered with unfinished, half-baked projects because someone didn&#8217;t think to check that there wasn&#8217;t already a project out there that they could use. (How many <em>PHPUnits</em> does the community really need?) Should there be a &#8216;requirement&#8217; for documentation before a project gets listed? Perhaps it&#8217;s time for &#8216;ideaforge&#8217;, or &#8216;architectureforge&#8221;?]</p>
				</div>

				<!--
				<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" 
	    xmlns:dc="http://purl.org/dc/elements/1.1/"
	    xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="http://lesscode.org/2005/09/20/lesscode-more-docs/"
    dc:identifier="http://lesscode.org/2005/09/20/lesscode-more-docs/"
    dc:title="lesscode &#8230; more docs?"
    trackback:ping="http://lesscode.org/2005/09/20/lesscode-more-docs/trackback/" />
</rdf:RDF>				-->
			</div>

				<div class="post">
				<h2 id="post-51"><a href="http://lesscode.org/2005/08/04/code-zoo-language-breakdown/" rel="bookmark" title="Permanent Link to O&#8217;Reilly CodeZoo Language Requests">O&#8217;Reilly CodeZoo Language Requests</a>&nbsp;&nbsp;<span><a href="http://lesscode.org/2005/08/04/code-zoo-language-breakdown/#comments" title="Comment on O'Reilly CodeZoo Language Requests">4</a> </span></h2>
				<small>Cat.: <a href="http://lesscode.org/category/languages/python/" title="View all posts in Python" rel="category tag">Python</a>,  <a href="http://lesscode.org/category/languages/ruby/" title="View all posts in Ruby" rel="category tag">Ruby</a>,  <a href="http://lesscode.org/category/languages/perl/" title="View all posts in Perl" rel="category tag">Perl</a>,  <a href="http://lesscode.org/category/languages/php/" title="View all posts in PHP" rel="category tag">PHP</a>,  <a href="http://lesscode.org/category/by-status/then-you-win/" title="View all posts in Then you win." rel="category tag">Then you win.</a><br />04. August 2005</small>

				<div class="entry">
					<p><a href="http://radar.oreilly.com/archives/2005/08/codezoo_program_1.html">This chart</a> showing the number of requests for different languages on <a href="http://www.codezoo.com/">O&#8217;Reilly&#8217;s Code Zoo</a> is interesting:</p>

<p><a href="http://radar.oreilly.com/archives/2005/08/codezoo_program_1.html"><img src="http://photos23.flickr.com/31279884_afc829dd3b_t.jpg" width="100" height="94" alt="CodeZoo language breakdown" style="float: right"/></a></p>

<blockquote>
  <p>Yesterday we added two new languages to CodeZoo: Python and Ruby. You can see from the language requests graph, above, the languages for which we got more than a few requests (I&#8217;ve left off Cobol and the others that only were requested a couple of times). From this, the choice of Python is completely obvious &#8212; it was the winner in the request race, beating out C++ and many other languages that might be considered &#8220;larger&#8221; by other metrics. In addition to the clear demand for it, Python is a natural fit for O&#8217;Reilly, since we publish a great deal of treeware and online material about Python, and cover Python extensively at our conferences (especially at the Open Source Convention taking place this week).</p>
  
  <p>Ruby, however, is tied for fifth on the list, and in raw component counts on our site, it is the smallest of the languages we support. As we&#8217;ve discussed on Radar over the past few months, we see Ruby as an emerging force in the open source world, driven by interest in Ruby on Rails, and by the excellent books on Ruby written by the Pragmatic Programmers&#8230;</p>
</blockquote>

<p>I was actually really surprised at how strongly dynamic languages showed up on this chart. I&#8217;m eye-balling it as there aren&#8217;t any numbers but Python, PHP, Ruby, and Perl seem to have taken down almost 50% of the requests with C{,#,++} taking down a large majority of the rest. Is this a fair sampling of the general development population? Developers with a web/UNIXy background seem to be over-represented at O&#8217;Reilly so its probably a bit skewed, no? Still, the amount of acceptance dynamic languages are gaining is pretty staggering at this point.</p>
				</div>

				<!--
				<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" 
	    xmlns:dc="http://purl.org/dc/elements/1.1/"
	    xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="http://lesscode.org/2005/08/04/code-zoo-language-breakdown/"
    dc:identifier="http://lesscode.org/2005/08/04/code-zoo-language-breakdown/"
    dc:title="O&#8217;Reilly CodeZoo Language Requests"
    trackback:ping="http://lesscode.org/2005/08/04/code-zoo-language-breakdown/trackback/" />
</rdf:RDF>				-->
			</div>

				<div class="post">
				<h2 id="post-34"><a href="http://lesscode.org/2005/07/17/visual-fred/" rel="bookmark" title="Permanent Link to Visual Fred?">Visual Fred?</a>&nbsp;&nbsp;<span><a href="http://lesscode.org/2005/07/17/visual-fred/#comments" title="Comment on Visual Fred?">1</a> </span></h2>
				<small>Cat.: <a href="http://lesscode.org/category/languages/python/" title="View all posts in Python" rel="category tag">Python</a>,  <a href="http://lesscode.org/category/languages/ruby/" title="View all posts in Ruby" rel="category tag">Ruby</a>,  <a href="http://lesscode.org/category/languages/perl/" title="View all posts in Perl" rel="category tag">Perl</a><br />17. July 2005</small>

				<div class="entry">
					<p>I&#8217;d like to advise everyone attending <a href="http://conferences.oreillynet.com/os2005/" title="O'Reilly Open Source Convention 2005">OSCON</a> with an interest in dynamic languages 
to not miss <a href="http://www.intertwingly.net/blog/" title="Intertwingly - It's just data">Sam Ruby</a>&#8217;s <a href="http://conferences.oreillynet.com/cs/os2005/view/e_sess/6833" title="Pie-thon Update">pie-thon Update</a>:</p>

<blockquote>
  <p>OSCON 2004 was the home of the pie-thon challenge, which pitted Parrot
  against CPython on a test of speed using a bechmark that Guido van
  Rossum designed. This presentation provides an update&#8211;not only on
  performance, but also on language compatibility, as well as an outlook
  on the potentials for inter-language interop that can be acheived by a
  common language runtime for dynamic languages.</p>
</blockquote>

<p>I was lucky enough to chat with Sam about this a bit and the little I
got out of him was intriguing. The blurb doesn&#8217;t go into a lot
of detail but one of things he&#8217;ll be talking about is compatibility
between dynamic languages at the runtime level. Here&#8217;s a sneak peek:</p>

<pre><code>&lt;rubys&gt;    There is a big difference between Python and
           Perl. Ruby might be someplace in between.
&lt;rtomayko&gt; that's interesting. I've been seeing reports of 
           the same thing from the CLR and JVM crowds
&lt;rubys&gt;    my favorite example: what does 
           """ print  '1' + '2'; """ do?
&lt;rtomayko&gt; ahh
&lt;rtomayko&gt; and so the strong/weak thing is down at that level?
&lt;rubys&gt;    it is not just that.  "+" is a function in Perl.  It 
           accepts two arguments which have types.  It coerces them 
           to numeric values, and adds them.
&lt;rtomayko&gt; python = '12', perl = 3, ruby = '12' (i think)
&lt;rubys&gt;    "+" is a synonym for "__add__" in Python.  It merely is 
           the name of a method.  What it does is up to the first 
           argument.
&lt;rtomayko&gt; right, I see. and so all of these languages will have 
           to shift a bit.
&lt;rubys&gt;    shifting all the language a bit is what .net did.  And 
           you end up with "Visual Fred" (look it up)
</code></pre>

<p><a href="http://www.google.com/search?client=safari&amp;rls=en&amp;q=visual+fred&amp;ie=UTF-8&amp;oe=UTF-8" title="Visual Fred">Visual Fred</a> was the name proposed for Visual Basic.NET by MVPs
who quickly realized that VB.NET had nothing to do with VB due to the
syntactic and semantic changes forced on the language by the common
runtime.</p>
				</div>

				<!--
				<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" 
	    xmlns:dc="http://purl.org/dc/elements/1.1/"
	    xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="http://lesscode.org/2005/07/17/visual-fred/"
    dc:identifier="http://lesscode.org/2005/07/17/visual-fred/"
    dc:title="Visual Fred?"
    trackback:ping="http://lesscode.org/2005/07/17/visual-fred/trackback/" />
</rdf:RDF>				-->
			</div>

				<div class="post">
				<h2 id="post-24"><a href="http://lesscode.org/2005/07/12/ruby-colored-blocks-in-python/" rel="bookmark" title="Permanent Link to Ruby-colored Blocks in Python">Ruby-colored Blocks in Python</a>&nbsp;&nbsp;<span><a href="http://lesscode.org/2005/07/12/ruby-colored-blocks-in-python/#comments" title="Comment on Ruby-colored Blocks in Python">3</a> </span></h2>
				<small>Cat.: <a href="http://lesscode.org/category/languages/python/" title="View all posts in Python" rel="category tag">Python</a>,  <a href="http://lesscode.org/category/languages/ruby/" title="View all posts in Ruby" rel="category tag">Ruby</a><br />12. July 2005</small>

				<div class="entry">
					<p>Ruby-styled blocks in Python have been something to be a bit anxious
about. After spending even a little time working with Ruby, it&#8217;s really
hard to get the idioms that blocks facilitate out of your head. Dealing
with certain types of problems with coroutines just <em>feels</em> right:</p>

<pre><code>File.open("bla.txt") do |file|
   file.read()
end
</code></pre>

<p>With the equivalent Python being roughly:</p>

<pre><code>file = open('foo.txt')
try:
    file.read()
finally:
    file.close()
</code></pre>

<p>Eewww. What attracted me to Python was its ability to make code read
very closely to its intent as it would be described by a human. Resource
aquisition/release is one of those things that I&#8217;d rather not have to
read about when I&#8217;m trying to extract the essence of what a piece of
code is doing.</p>

<p>Of course, you can get close in most cases by using normal callable
passing&#8230;</p>

<pre><code>def with_open_file(file, block):
    try:
        block(file)
    finally:
        file.close()

def do_stuff(file):
    file.read()

with_open_file(open('bla.txt'), do_stuff)
</code></pre>

<p>&#8230; but the Ruby block syntax reads better to these eyes and it seems
I&#8217;m not the only one. A few weeks ago, Guido <a href="http://mail.python.org/pipermail/python-dev/2005-June/054269.html">had this to say</a>
about the block style in relation to recent PEP activity:</p>

<blockquote>
  <p>That was all before I (re-)discovered yield-expressions (in Ruby!),
  and mostly in response to the most recent version of PEP 288, with its
  problem of accessing the generator instance. I now strongly feel that
  g.next(EXPR) and yield-expressions are the way to go.</p>
</blockquote>

<p>So I&#8217;ve been following the succession of PEPs that have led us to
<a href="http://www.python.org/peps/pep-0342.html" title="Coroutines via Enhanced Generators">PEP-342</a>, <cite>Coroutines via Enhanced Generators</cite>, and
<a href="http://www.python.org/peps/pep-0343.html" title="Anonymous Block Redux and Generator Enahncements">PEP-343</a>, <cite>Anonymous Block Redux and Generator
Enahncements</cite>, with great interest.</p>

<p>It looks like there&#8217;s a decent chance that we&#8217;ll be able to stuff like
this in Python 2.5:</p>

<pre><code> @with_template
 def opening(filename, mode="r"):
     file = open(filename, mode)
     try:
         yield file
     finally:
         file.close()

 with opening("/etc/passwd") as file:
     file.read()
</code></pre>

<p>This is accomplished not by adding an implicitly passed block construct
like Ruby&#8217;s <code>&amp;block</code>, but by adding a basic message passing protocol for
generators. Generators will have two new methods: <code>send</code> and
<code>throw</code>. The important one here is <code>throw</code>, which tells the generator to
raise an <code>Exception</code> at its suspension point. All of this is hidden
behind the implementation of <code>with_template</code> (sample implementation in
<a href="http://www.python.org/peps/pep-0342.html" title="Coroutines via Enhanced Generators">PEP-342</a>).</p>

<p>What I&#8217;m interested in understanding more fully is how the PEP proposed
enhancements to generators will work in iterative cases or whether
that&#8217;s planned at all. The examples seem targeted toward resource
aquisition/release (which is fine, there&#8217;s definitely a strong set of
use cases in that area). But I&#8217;m interested in understanding how cases
similar to Ruby&#8217;s <code>IO.foreach</code> will be handled:</p>

<pre><code>IO.foreach("testfile") { |line| puts line }
</code></pre>

<p>Note that this is different from Python&#8217;s&#8230;</p>

<pre><code>for line in open('testfile').readlines():
    print line
</code></pre>

<p>&#8230; for a few reasons. First, resource aquisition/release is handled
within <code>IO.foreach</code> where in the preceding Python snippet, it isn&#8217;t
really handled at all. Second, <code>IO.foreach</code> reads the file iteratively,
calling the block each time, where as an approach using Python
generators, such as follows&#8230;</p>

<pre><code>def lines(filename):
    f = open(filename)
    try:
        line = f.readline()
        while line:
           yield line
           line = f.readline()
    finally:
        f.close()

for line in lines('foo.txt'):
    raise Exception("this doesn't work")
</code></pre>

<p>&#8230; falls apart because the exception raised in the iterating block is
not automatically signaled back to the generator. There&#8217;s no guarantee
that the finally block will execute when the iterating block exits.</p>

<p>I have a feeling there&#8217;s some aspect of this that I&#8217;m not fully
grasping. Perhaps Phillip (<a href="http://dirtsimple.org/">PING</a>) or someone else with a good understanding of
the proposed generator enhancements can stop by and comment; inquiring
minds want to know&#8230;</p>
				</div>

				<!--
				<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" 
	    xmlns:dc="http://purl.org/dc/elements/1.1/"
	    xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="http://lesscode.org/2005/07/12/ruby-colored-blocks-in-python/"
    dc:identifier="http://lesscode.org/2005/07/12/ruby-colored-blocks-in-python/"
    dc:title="Ruby-colored Blocks in Python"
    trackback:ping="http://lesscode.org/2005/07/12/ruby-colored-blocks-in-python/trackback/" />
</rdf:RDF>				-->
			</div>

		
		<div class="navigation">
			<div class="alignleft"><a href="http://lesscode.org/category/languages/ruby/"></a></div>
			<div class="alignright"><a href="http://lesscode.org/category/languages/ruby/">next &raquo;</a></div>
		</div>

	
	</div>


<div id="footer">
	<p style="float: left;">
		feeds: 
    <a href="http://lesscode.org/feed/atom/" title="Atom 0.3 feed for all posts">
      posts</a> (<a href="http://feedvalidator.org/check.cgi?url=http://lesscode.org/feed/atom/">valid?</a>)
    or <a href="http://lesscode.org/comments/feed/" title="RSS 2.0 feed for comments">comments</a>
       (<a href="http://feedvalidator.org/check.cgi?url=http://lesscode.org/comments/feed/">valid?</a>)
    <br />
		design by <a href="http://blog.ratterobert.com/">ratter / robert</a><br />
		powered by <a href="http://wordpress.org">WordPress</a>.<a href="http://wordpress.de">de</a><br />
	</p>
		<a name="search"><form method="get" id="searchform" action="/index.php">
<div><input type="text" value="" name="s" id="s" />
<input type="submit" id="searchsubmit" value="Search" />
</div>
</form>
</a>
</div>
<div id="switcher">
	<center>
			</center>
</div>
</div>
		</body>
</html>

<!-- Dynamic Page Served (once) in 0.422 seconds -->
