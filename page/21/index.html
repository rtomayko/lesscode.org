<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head profile="http://gmpg.org/xfn/11">
	<meta http-equiv="Content-Type" 
        content="text/html; charset=UTF-8" />

  <title>lesscode.org</title>
	<meta name="generator" content="WordPress 2.0.1" />

	<link rel="stylesheet" href="http://lesscode.org/wp-content/themes/almodovar/style.css" type="text/css" media="screen" />
	<link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://lesscode.org/feed/" />
	<link rel="alternate" type="text/xml" title="RSS .92" href="http://lesscode.org/feed/rss/" />
	<link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="http://lesscode.org/feed/atom/" />
	<link rel="pingback" href="http://lesscode.org/xmlrpc.php" />

        <script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
        </script>
        <script type="text/javascript">
        _uacct = "UA-125803-1";
        urchinTracker();
        </script>
		<link rel='archives' title='October 2006' href='http://lesscode.org/2006/10/' />
	<link rel='archives' title='April 2006' href='http://lesscode.org/2006/04/' />
	<link rel='archives' title='March 2006' href='http://lesscode.org/2006/03/' />
	<link rel='archives' title='January 2006' href='http://lesscode.org/2006/01/' />
	<link rel='archives' title='December 2005' href='http://lesscode.org/2005/12/' />
	<link rel='archives' title='November 2005' href='http://lesscode.org/2005/11/' />
	<link rel='archives' title='October 2005' href='http://lesscode.org/2005/10/' />
	<link rel='archives' title='September 2005' href='http://lesscode.org/2005/09/' />
	<link rel='archives' title='August 2005' href='http://lesscode.org/2005/08/' />
	<link rel='archives' title='July 2005' href='http://lesscode.org/2005/07/' />
	<link rel='archives' title='June 2005' href='http://lesscode.org/2005/06/' />
	<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://lesscode.org/xmlrpc.php?rsd" />
</head>
<body>

<div id="page">
<h1><a href="http://lesscode.org">lesscode.org</a></h1>
<div id="navcontainer">
		<ul id="navlist">
			<li class="page_item"><a href="http://lesscode.org/archives/" title="archives">archives</a></li>
<li class="page_item"><a href="http://lesscode.org/about/" title="about lesscode.org">about lesscode.org</a></li>
		</ul>
</div>
<hr />
	<div id="content" class="narrowcolumn">

	
					<div id="datum">13 Jul 05</div>
			<div class="post">
				<div id="zeit">
				 12<br />
				 08				</div>
				<h2 id="post-27"><a href="http://lesscode.org/2005/07/13/python-template-shootout/" rel="bookmark" title="Permanent Link to Python Template Engine Shootout Blogs">Python Template Engine Shootout Blogs</a>&nbsp;&nbsp;<span><a href="http://lesscode.org/2005/07/13/python-template-shootout/#comments" title="Comment on Python Template Engine Shootout Blogs">1</a> </span></h2>
				<small>By <a href="http://naeblis.cx/rtomayko/">Ryan Tomayko</a>
        under <a href="http://lesscode.org/category/languages/python/" title="View all posts in Python" rel="category tag">Python</a></small>

				<div class="entry">
					<p>I just stumbled on, not one, but <em>two</em> separate weblogs dedicated to comparing and contrasting various Python template languages. The <a href="http://www.pycs.net/users/0000506/weblog/">Python Template Blog</a> by Tim Underhill and <a href="http://www.skreak.com/wp/">The Python Template Weblog</a> by&#8230; another Tim? Neither have actually progressed so far as to make actual comparisons but if they end up being anything like the <a href="http://pyre.third-bit.com/pywebblog/">PyWebOff</a> blog, which compares Python web frameworks, they&#8217;ll be a tremendous resource for the community. </p>

<p>Go Tims!</p>
				</div>
				<!--
				<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" 
	    xmlns:dc="http://purl.org/dc/elements/1.1/"
	    xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="http://lesscode.org/2005/07/13/python-template-shootout/"
    dc:identifier="http://lesscode.org/2005/07/13/python-template-shootout/"
    dc:title="Python Template Engine Shootout Blogs"
    trackback:ping="http://lesscode.org/2005/07/13/python-template-shootout/trackback/" />
</rdf:RDF>				-->
        <p><a href="http://lesscode.org/2005/07/13/python-template-shootout/#comments" class="comments-link" title="Comment on Python Template Engine Shootout Blogs">One comment so far...</a></small></p>
			</div>

					<div id="datum">12 Jul 05</div>
			<div class="post">
				<div id="zeit">
				 21<br />
				 42				</div>
				<h2 id="post-26"><a href="http://lesscode.org/2005/07/12/design-patterns-in-dynamic-languages/" rel="bookmark" title="Permanent Link to Design Patterns in Dynamic Languages?">Design Patterns in Dynamic Languages?</a>&nbsp;&nbsp;<span><a href="http://lesscode.org/2005/07/12/design-patterns-in-dynamic-languages/#comments" title="Comment on Design Patterns in Dynamic Languages?">1</a> </span></h2>
				<small>By <a href="http://franklinmint.fm">Robert Sayre</a>
        under <a href="http://lesscode.org/category/languages/" title="View all posts in Languages" rel="category tag">Languages</a></small>

				<div class="entry">
					<p><a href="http://norvig.com/design-patterns/">Peter Norvig</a>: <i>16 of 23 patterns have qualitatively simpler implementation in Lisp or Dylan than in C++ for at least some uses of each pattern.</i></p>

<p>A few of the 16 patterns Norvig counts rely on a fluid macro facility like those found in various Lisps, but Python, Ruby, Perl, etc., still do very well on those patterns rendered useless by first-class functions, dynamic typing, and other niceties.</p>
				</div>
				<!--
				<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" 
	    xmlns:dc="http://purl.org/dc/elements/1.1/"
	    xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="http://lesscode.org/2005/07/12/design-patterns-in-dynamic-languages/"
    dc:identifier="http://lesscode.org/2005/07/12/design-patterns-in-dynamic-languages/"
    dc:title="Design Patterns in Dynamic Languages?"
    trackback:ping="http://lesscode.org/2005/07/12/design-patterns-in-dynamic-languages/trackback/" />
</rdf:RDF>				-->
        <p><a href="http://lesscode.org/2005/07/12/design-patterns-in-dynamic-languages/#comments" class="comments-link" title="Comment on Design Patterns in Dynamic Languages?">One comment so far...</a></small></p>
			</div>

					<div id="datum"></div>
			<div class="post">
				<div id="zeit">
				 09<br />
				 02				</div>
				<h2 id="post-25"><a href="http://lesscode.org/2005/07/12/slay-this-cow/" rel="bookmark" title="Permanent Link to How to slay this cow?">How to slay this cow?</a>&nbsp;&nbsp;<span><a href="http://lesscode.org/2005/07/12/slay-this-cow/#comments" title="Comment on How to slay this cow?">3</a> </span></h2>
				<small>By <a href="http://naeblis.cx/rtomayko/">Ryan Tomayko</a>
        under <a href="http://lesscode.org/category/by-status/then-they-laugh-at-you/" title="View all posts in Then they laugh at you..." rel="category tag">Then they laugh at you...</a>,  <a href="http://lesscode.org/category/by-stack/rails/" title="View all posts in Rails" rel="category tag">Rails</a></small>

				<div class="entry">
					<p>This <a href="http://discuss.joelonsoftware.com/default.asp?joel.3.159134">Joel on Software Thread</a> shows that the 
notion that &#8220;LAMP can&#8217;t scale&#8221; is alive and, apparently, still quite popular.</p>

<blockquote>
  <p>The big issue I have with rails scalability is admittedly based on some prejudices 
  I have about large scale webapps.  Rails doesn&#8217;t really have a model of a stateful 
  server, primarily because there is no threading, connection pooling, etc.  You have 
  one lighthttpd/apache/whatever thread, and it has one rails instance, which has one
  db connection, etc.</p>
</blockquote>

<p>Oh, wait, <em>that</em> comment is just plain old disinformation and/or ignorance of 
how these systems actually work. </p>

<p>This comment does a far better job of representing the popular 
your-stuff-doesn&#8217;t-scale mindset:</p>

<blockquote>
  <p>scalability is an important issue when choosing a development environment. If 
  it is not scalable, you made the wrong decision and you will be rewriting your 
  app into something that is scalable once you start getting customers. And this 
  is just the wrong time to have to start worrying about rewriting your app. It is 
  always better/cheaper/faster to do it right the first time rather than plan for a 
  rewrite in a new environment once you start getting busy.</p>
</blockquote>

<p><a href="http://lesscode.org/2005/07/10/unnecessary-until-proven-required/">Required until proven unnecessary</a> in all its glory.</p>

<p>David has <a href="http://www.loudthinking.com/arc/000479.html">a nice rebuttal</a>
that sums up nicely the place I think many of us have reached with regards
to the scaling issue: it&#8217;s a boring problem that&#8217;s been solved for years. Maybe we
should tell others?</p>

<p>Along with the usual set of &#8220;that&#8217;s not for the enterprise&#8221; posts, there are also 
some insightful posts. I&#8217;d encourage you to <a href="http://discuss.joelonsoftware.com/default.asp?joel.3.159134">join the discussion</a>, 
especially if you have a cluestick similar to Ged Byrne&#8217;s:</p>

<blockquote>
  <p>I think I should start posting on all those enterprise server forums with 
  comments like &#8216;I&#8217;m concerned that this won&#8217;t scale down very well.  Could 
  a team of 3 provide 24/7 support while extending functionality?  We only 
  have a couple of thousand users and at the rate the market will accept a 
  bigger team would not be economical.  The thing is, we 3 really want to do 
  this rather than ending up as corporate drones wasting our existance in a 
  cubicle.&#8221;</p>
</blockquote>

<p>Anyway, here&#8217;s something IBM/Zend or other members of our community 
toating around a fair amount of spare cash and resources could do to help 
the poor hippies out in gaining a bit of acceptance: slay this cow once and for 
all, formally, by setting up an environment to simulate the kinds of 
&#8220;enterprise class&#8221; loads we&#8217;re seeing in even the most demanding 
environments. You can use David&#8217;s basic setup or perhaps <a href="http://perl.apache.org/docs/tutorials/apps/scale_etoys/etoys.html">this one</a>
from <em>circa 2000</em>.  If, upon being weighed we&#8217;re found wanting, we&#8217;ll find a way to 
fix it like we&#8217;ve been doing forever.  But we would feel more comfortable if 
the burden of proof was <a href="http://lesscode.org/2005/07/10/unnecessary-until-proven-required/">placed appropriately</a>. Our repeated attempts to show 
the scaling capabilities of LAMP/friends seem destined to be repeatedly deflected 
by the <em>Enterprise Class Distortion Field</em>.</p>
				</div>
				<!--
				<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" 
	    xmlns:dc="http://purl.org/dc/elements/1.1/"
	    xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="http://lesscode.org/2005/07/12/slay-this-cow/"
    dc:identifier="http://lesscode.org/2005/07/12/slay-this-cow/"
    dc:title="How to slay this cow?"
    trackback:ping="http://lesscode.org/2005/07/12/slay-this-cow/trackback/" />
</rdf:RDF>				-->
        <p><a href="http://lesscode.org/2005/07/12/slay-this-cow/#comments" class="comments-link" title="Comment on How to slay this cow?">3 Comments...</a></small></p>
			</div>

					<div id="datum"></div>
			<div class="post">
				<div id="zeit">
				 05<br />
				 10				</div>
				<h2 id="post-24"><a href="http://lesscode.org/2005/07/12/ruby-colored-blocks-in-python/" rel="bookmark" title="Permanent Link to Ruby-colored Blocks in Python">Ruby-colored Blocks in Python</a>&nbsp;&nbsp;<span><a href="http://lesscode.org/2005/07/12/ruby-colored-blocks-in-python/#comments" title="Comment on Ruby-colored Blocks in Python">3</a> </span></h2>
				<small>By <a href="http://naeblis.cx/rtomayko/">Ryan Tomayko</a>
        under <a href="http://lesscode.org/category/languages/python/" title="View all posts in Python" rel="category tag">Python</a>,  <a href="http://lesscode.org/category/languages/ruby/" title="View all posts in Ruby" rel="category tag">Ruby</a></small>

				<div class="entry">
					<p>Ruby-styled blocks in Python have been something to be a bit anxious
about. After spending even a little time working with Ruby, it&#8217;s really
hard to get the idioms that blocks facilitate out of your head. Dealing
with certain types of problems with coroutines just <em>feels</em> right:</p>

<pre><code>File.open("bla.txt") do |file|
   file.read()
end
</code></pre>

<p>With the equivalent Python being roughly:</p>

<pre><code>file = open('foo.txt')
try:
    file.read()
finally:
    file.close()
</code></pre>

<p>Eewww. What attracted me to Python was its ability to make code read
very closely to its intent as it would be described by a human. Resource
aquisition/release is one of those things that I&#8217;d rather not have to
read about when I&#8217;m trying to extract the essence of what a piece of
code is doing.</p>

<p>Of course, you can get close in most cases by using normal callable
passing&#8230;</p>

<pre><code>def with_open_file(file, block):
    try:
        block(file)
    finally:
        file.close()

def do_stuff(file):
    file.read()

with_open_file(open('bla.txt'), do_stuff)
</code></pre>

<p>&#8230; but the Ruby block syntax reads better to these eyes and it seems
I&#8217;m not the only one. A few weeks ago, Guido <a href="http://mail.python.org/pipermail/python-dev/2005-June/054269.html">had this to say</a>
about the block style in relation to recent PEP activity:</p>

<blockquote>
  <p>That was all before I (re-)discovered yield-expressions (in Ruby!),
  and mostly in response to the most recent version of PEP 288, with its
  problem of accessing the generator instance. I now strongly feel that
  g.next(EXPR) and yield-expressions are the way to go.</p>
</blockquote>

<p>So I&#8217;ve been following the succession of PEPs that have led us to
<a href="http://www.python.org/peps/pep-0342.html" title="Coroutines via Enhanced Generators">PEP-342</a>, <cite>Coroutines via Enhanced Generators</cite>, and
<a href="http://www.python.org/peps/pep-0343.html" title="Anonymous Block Redux and Generator Enahncements">PEP-343</a>, <cite>Anonymous Block Redux and Generator
Enahncements</cite>, with great interest.</p>

<p>It looks like there&#8217;s a decent chance that we&#8217;ll be able to stuff like
this in Python 2.5:</p>

<pre><code> @with_template
 def opening(filename, mode="r"):
     file = open(filename, mode)
     try:
         yield file
     finally:
         file.close()

 with opening("/etc/passwd") as file:
     file.read()
</code></pre>

<p>This is accomplished not by adding an implicitly passed block construct
like Ruby&#8217;s <code>&amp;block</code>, but by adding a basic message passing protocol for
generators. Generators will have two new methods: <code>send</code> and
<code>throw</code>. The important one here is <code>throw</code>, which tells the generator to
raise an <code>Exception</code> at its suspension point. All of this is hidden
behind the implementation of <code>with_template</code> (sample implementation in
<a href="http://www.python.org/peps/pep-0342.html" title="Coroutines via Enhanced Generators">PEP-342</a>).</p>

<p>What I&#8217;m interested in understanding more fully is how the PEP proposed
enhancements to generators will work in iterative cases or whether
that&#8217;s planned at all. The examples seem targeted toward resource
aquisition/release (which is fine, there&#8217;s definitely a strong set of
use cases in that area). But I&#8217;m interested in understanding how cases
similar to Ruby&#8217;s <code>IO.foreach</code> will be handled:</p>

<pre><code>IO.foreach("testfile") { |line| puts line }
</code></pre>

<p>Note that this is different from Python&#8217;s&#8230;</p>

<pre><code>for line in open('testfile').readlines():
    print line
</code></pre>

<p>&#8230; for a few reasons. First, resource aquisition/release is handled
within <code>IO.foreach</code> where in the preceding Python snippet, it isn&#8217;t
really handled at all. Second, <code>IO.foreach</code> reads the file iteratively,
calling the block each time, where as an approach using Python
generators, such as follows&#8230;</p>

<pre><code>def lines(filename):
    f = open(filename)
    try:
        line = f.readline()
        while line:
           yield line
           line = f.readline()
    finally:
        f.close()

for line in lines('foo.txt'):
    raise Exception("this doesn't work")
</code></pre>

<p>&#8230; falls apart because the exception raised in the iterating block is
not automatically signaled back to the generator. There&#8217;s no guarantee
that the finally block will execute when the iterating block exits.</p>

<p>I have a feeling there&#8217;s some aspect of this that I&#8217;m not fully
grasping. Perhaps Phillip (<a href="http://dirtsimple.org/">PING</a>) or someone else with a good understanding of
the proposed generator enhancements can stop by and comment; inquiring
minds want to know&#8230;</p>
				</div>
				<!--
				<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" 
	    xmlns:dc="http://purl.org/dc/elements/1.1/"
	    xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="http://lesscode.org/2005/07/12/ruby-colored-blocks-in-python/"
    dc:identifier="http://lesscode.org/2005/07/12/ruby-colored-blocks-in-python/"
    dc:title="Ruby-colored Blocks in Python"
    trackback:ping="http://lesscode.org/2005/07/12/ruby-colored-blocks-in-python/trackback/" />
</rdf:RDF>				-->
        <p><a href="http://lesscode.org/2005/07/12/ruby-colored-blocks-in-python/#comments" class="comments-link" title="Comment on Ruby-colored Blocks in Python">3 Comments...</a></small></p>
			</div>

					<div id="datum"></div>
			<div class="post">
				<div id="zeit">
				 04<br />
				 28				</div>
				<h2 id="post-23"><a href="http://lesscode.org/2005/07/12/to-the-east-side/" rel="bookmark" title="Permanent Link to To the east side&#8230;">To the east side&#8230;</a>&nbsp;&nbsp;<span>Comments Off </span></h2>
				<small>By <a href="http://naeblis.cx/rtomayko/">Ryan Tomayko</a>
        under <a href="http://lesscode.org/category/by-status/then-you-win/" title="View all posts in Then you win." rel="category tag">Then you win.</a></small>

				<div class="entry">
					<p>I&#8217;m just now getting around to reading <a href="http://websage.org/">John Anthony Hartman</a>&#8217;s 
inspiring lockergnome article: <a href="http://channels.lockergnome.com/it/archives/20050525_lamp_shine_on_you_crazy_diamond.phtml">LAMP -Shine On, You Crazy Diamond</a>:</p>

<blockquote>
  <p>Linux, Apache, MySQL, and PHP, Python, and Perl - a mixture that seems
  to have moved beyond the fossilized carbon stage. With heat and
  pressure, it has molded this stack into a beautiful diamond. Linux has
  grown from a group of tinkering hobbyists to a multibillion dollar
  industry. Apache dominates the Web server market with an almost three
  times margin over its closest competitor, IIS. MySQL has over six
  million installs, and if you include PostgreSQL, its Berkeley DB
  growth in open source databases is growing like wildfire. This brings
  us to PHP, Python, and Perl. If you add up the click statistics based
  on Google searches, these components of the lamp stack make up the
  largest percentage, supplanting C as the language(s) with the most
  hits. This also holds true for the most programming jobs that have
  openings.</p>
</blockquote>

<p>There&#8217;s no denying it folks, <em>we&#8217;re movin&#8217; on up</em>. </p>
				</div>
				<!--
				<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" 
	    xmlns:dc="http://purl.org/dc/elements/1.1/"
	    xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="http://lesscode.org/2005/07/12/to-the-east-side/"
    dc:identifier="http://lesscode.org/2005/07/12/to-the-east-side/"
    dc:title="To the east side&#8230;"
    trackback:ping="http://lesscode.org/2005/07/12/to-the-east-side/trackback/" />
</rdf:RDF>				-->
        <p>Comments are closed.</small></p>
			</div>

		
		<div class="navigation">
			<div class="alignleft"><a href="http://lesscode.org/page/20/"></a><a href="http://lesscode.org/page/22/">&laquo; previous</a></div>
			<div class="alignright"><a href="http://lesscode.org/page/20/">next &raquo;</a><a href="http://lesscode.org/page/22/"></a></div>
		</div>

	
	</div>


<div id="footer">
	<p style="float: left;">
		feeds: 
    <a href="http://lesscode.org/feed/atom/" title="Atom 0.3 feed for all posts">
      posts</a> (<a href="http://feedvalidator.org/check.cgi?url=http://lesscode.org/feed/atom/">valid?</a>)
    or <a href="http://lesscode.org/comments/feed/" title="RSS 2.0 feed for comments">comments</a>
       (<a href="http://feedvalidator.org/check.cgi?url=http://lesscode.org/comments/feed/">valid?</a>)
    <br />
		design by <a href="http://blog.ratterobert.com/">ratter / robert</a><br />
		powered by <a href="http://wordpress.org">WordPress</a>.<a href="http://wordpress.de">de</a><br />
	</p>
		<a name="search"><form method="get" id="searchform" action="/index.php">
<div><input type="text" value="" name="s" id="s" />
<input type="submit" id="searchsubmit" value="Search" />
</div>
</form>
</a>
</div>
<div id="switcher">
	<center>
			</center>
</div>
</div>
		</body>
</html>

<!-- Dynamic Page Served (once) in 0.411 seconds -->
