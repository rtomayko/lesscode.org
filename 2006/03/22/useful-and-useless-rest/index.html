<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head profile="http://gmpg.org/xfn/11">
	<meta http-equiv="Content-Type" 
        content="text/html; charset=UTF-8" />

  <title>  Useful and Useless REST</title>
	<meta name="generator" content="WordPress 2.0.1" />

	<link rel="stylesheet" href="http://lesscode.org/wp-content/themes/almodovar/style.css" type="text/css" media="screen" />
	<link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://lesscode.org/feed/" />
	<link rel="alternate" type="text/xml" title="RSS .92" href="http://lesscode.org/feed/rss/" />
	<link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="http://lesscode.org/feed/atom/" />
	<link rel="pingback" href="http://lesscode.org/xmlrpc.php" />

        <script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
        </script>
        <script type="text/javascript">
        _uacct = "UA-125803-1";
        urchinTracker();
        </script>
		<link rel='archives' title='October 2006' href='http://lesscode.org/2006/10/' />
	<link rel='archives' title='April 2006' href='http://lesscode.org/2006/04/' />
	<link rel='archives' title='March 2006' href='http://lesscode.org/2006/03/' />
	<link rel='archives' title='January 2006' href='http://lesscode.org/2006/01/' />
	<link rel='archives' title='December 2005' href='http://lesscode.org/2005/12/' />
	<link rel='archives' title='November 2005' href='http://lesscode.org/2005/11/' />
	<link rel='archives' title='October 2005' href='http://lesscode.org/2005/10/' />
	<link rel='archives' title='September 2005' href='http://lesscode.org/2005/09/' />
	<link rel='archives' title='August 2005' href='http://lesscode.org/2005/08/' />
	<link rel='archives' title='July 2005' href='http://lesscode.org/2005/07/' />
	<link rel='archives' title='June 2005' href='http://lesscode.org/2005/06/' />
	<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://lesscode.org/xmlrpc.php?rsd" />
<script type="text/javascript">
/*-----AJAX-Comment-Preview-Variables-----*/
	var inputId     = 'comment';
	var outputId    = 'ajax-comment-preview';
	var doitId      = 'preview';
	var authorId    = 'author';
	var urlId       = 'url';
	var processURI  = '/wp-content/plugins/ajax-comment-preview.php';
	var emptyString = 'Click the "Preview" button to preview your comment here.';
/*----------------------------------------*/
</script>
<script type="text/javascript" src="/wp-content/plugins/ajax-comment-preview.js"></script>
</head>
<body>

<div id="page">
<h1><a href="http://lesscode.org">lesscode.org</a></h1>
<div id="navcontainer">
		<ul id="navlist">
			<li class="page_item"><a href="http://lesscode.org/archives/" title="archives">archives</a></li>
<li class="page_item"><a href="http://lesscode.org/about/" title="about lesscode.org">about lesscode.org</a></li>
		</ul>
</div>
<hr />

	<div id="content" class="narrowcolumn">

  
		<div class="navigation">
			<div class="alignleft">&laquo; <a href="http://lesscode.org/2006/03/21/rest-myths/">REST myths</a></div>
			<div class="alignright"> <a href="http://lesscode.org/2006/03/22/ray-ozzie-got-the-memo/">Ray Ozzie Got the Memo</a> &raquo;</div>
		</div>

		<div class="post">
			<h2 id="post-143"><a href="http://lesscode.org/2006/03/22/useful-and-useless-rest/" rel="bookmark" title="Permanent Link: Useful and Useless REST">Useful and Useless REST</a>&nbsp;&nbsp;</h2>
			<small>By <a href="http://blog.ianbicking.org">Ian Bicking</a>
      under <a href="http://lesscode.org/category/talk/" title="View all posts in Talk" rel="category tag">Talk</a>,  <a href="http://lesscode.org/category/theory/" title="View all posts in Theory" rel="category tag">Theory</a> 
      on 22. March 2006</small>

			<div class="entrytext">
				<p>With all this talk about High and Low REST, I noticed something in a <a href="http://www.mnot.net/blog/2006/03/20/hi_lo">post by Mark Nottingham</a>:</p>

<blockquote>
    Don has effectively made the observation that a lot of other
    people (especially of the Web services sort) have made; while the
    benefits of GET&#8217;s transparency are obvious, they&#8217;re less
    apparent for PUT and DELETE, so why not just take the easy (lo)
    road and use POST?<br /><br />

    I think there are two answers; 1) hopefully, we&#8217;ll have some
    concrete benefits for that transparency some day (think offline),
    and 2) thinking in terms of GET/PUT/DELETE first &#8212; using POST
    only as an escape hatch &#8212; leads you down a path where your
    application will be using transparent methods a lot more than
    opaque POSTs.
</blockquote>

<p><p>
I&#8217;ll use my first post here to repeat the ideas from <a href="http://lesscode.org/2006/03/19/high-rest/">Bill&#8217;s post</a>&#8230;</p>

<p><p>
I think a cargo cult of REST has indeed emerged, and I&#8217;m seeing evidence of it on the ground, far from SOA discussions.  I&#8217;m seeing REST evoked as something that is inherently good.  I&#8217;m seeing people ask for <i>REST support</i> in their frameworks.  I usually know what they mean, but their requests seem to be driven by the <a href="http://en.wikipedia.org/wiki/Truthiness">truthiness</a> of REST, not the utility.</p>

<p><p>
For instance, I often get annoyed with URI design discussions, where people put great importance into abstract design issues that no one else will notice or care about.  In HTTP (and REST) URIs are supposed to be opaque strings, so why the obsession?  I call <a href="http://en.wikipedia.org/wiki/Color_of_the_bikeshed">bike shed</a>. People are tackling the pointless decisions first, because they are low-stake and easy to think about.  It also comes from an inversion of logic: good things are generally aesthetically pleasing; but many things that are aesthetically pleasing are superfluous and distracting.</p>

<p><p></p>

<p>What&#8217;s useful is that REST design doesn&#8217;t promise anything more
than it can deliver.  It doesn&#8217;t promise anything general about the
body of the response (except I suppose that <code>Content-type</code> and other metadata will be accurate).  It doesn&#8217;t promise anything about the URI.  The use of verbs is in part to make the URI <i>more</i> opaque, so instead of rewriting the URI to express new actions, you use different verbs on the same URI.  GET actually means something to intermediaries.  POST, PUT, and DELETE only really mean something to humans.  Which is okay, but it&#8217;s not interesting architecture.</p>

<p>It&#8217;s not <i>bad</i> to use these verbs, it&#8217;s just not particularly <i>useful</i>.  I think High REST may be the result of people who just can&#8217;t help but make architecture.  Low REST is people who are recognizing emergent architecture.  REST isn&#8217;t a new idea, it is the recognition of the good ideas that are already around us.  And like design patterns, the description is turning into prescription, and as with patterns we are seeing people use REST to justify premature architecture &#8212; probably a much worse sin than permature optimization.</p>

<p><p></p>

<p>I look at a protocol like <a href="http://openid.net/">OpenID</a> which is
wedded to HTTP and HTML &#8212; and even intimately connected to
those poorly-specified browsers that we all can&#8217;t help but hate &#8212; and
I think that&#8217;s great architecture.  It&#8217;s not great because it is
pretty underneath (it isn&#8217;t), it is great because it solves a hard
problem inside fixed constraints without exceeding scope.  It&#8217;s RESTful at heart, but not RESTful in form.</p>

<p><p></p>

<p>If there aren&#8217;t concrete benefits to using PUT or DELETE over POST,
then why should we care?  What hard problem is made easy? High REST seems to be uncovering non-problems.</p>

				
        <a name="comments"> </a>
				<p class="postmetadata alter">
					<a href='http://lesscode.org/2006/03/22/useful-and-useless-rest/feed/'>Comment <acronym title="Really Simple Syndication">RSS</acronym></a> -

													Both comments and pings are currently closed.

						
				</p>

			</div>
		</div>

	
<!-- You can start editing here. -->

	<h3 id="comments">7 Responses to &#8220;Useful and Useless REST&#8221;</h3>

	<ol class="commentlist">
  	
		<li class="alt" id="comment-1342">
			<p class="who"><cite><a href='http://www.markbaker.ca' rel='external ' title='209.161.202.187'>Mark Baker</a></cite>:</p>
			<p>Dude, you don&#8217;t know what you&#8217;re talking about.</p>
      <p>
			<small>comment at <a href="#comment-1342" title="">22. March 2006</a> </small>
						</p>

		</li>

	
	
		<li class="alt" id="comment-1344">
			<p class="who"><cite><a href='http://naeblis.cx/rtomayko/' rel='external ' title='66.93.15.162'>Ryan Tomayko</a></cite>:</p>
			<p>How does that help, Mark? What, all of a sudden you don&#8217;t feel like talking?</p>
<blockquote>
<p>GET actually means something to intermediaries. POST, PUT, and DELETE only really mean something to humans.</p>
</blockquote>
<p>That&#8217;s not really true. <a href="http://www.squid-cache.org/">Squid</a>, and I believe most other caching proxies have an explicit understanding of each of these verbs. The semantics for each are rigidly defined and are all very different. PUT is not POST and POST is not DELETE. The descriptions of each verb in RFC 2616 are fairly short and straight-forward for the most part.</p>
<p>PUT and DELETE are idempotent and POST isn&#8217;t. PUT and DELETE each say something specific about the resource they modify and clients and intermediaries can make assumptions about the resource they PUT/DELETE to once the response is complete. When an APP client PUTs an entry it can then make assumptions (more specific assumptions than POST) about that resource&#8217;s state after the request. For a client that stores 1,000 blog entries, that can be important. Sure, you could implement the same exact semantics at the application layer using POST, special parameters, maybe a custom XML response body to indicate success or failure. It would be simple, right? (cue explosion of XML-RPC based blog-publish interfaces) But now we all have to agree on these other ways of accomplishing the same exact thing as PUT, which has already been figured out. If we all agree that a PUT is a PUT is a PUT is a PUT and that you express it as such and such then we can start building things around that understanding. Just like we did with GET and POST.</p>
<p>The trick is in knowing when not to use PUT or DELETE (if you aren&#8217;t sure, the rules in rfc2616 are pretty clear and they make good sense too). There are a number of cases that are better suited to POST, even though it may seem like you&#8217;re putting or deleting something. I&#8217;ve spent quite a bit of time trying to shoe-horn certain types of operations into a PUT or DELETE in an attempt to be &#8220;RESTful&#8221; only to learn that I was trying too hard and that POST was really the right verb for the situation. It&#8217;s sort of like how everyone stopped using <code>&lt;table&gt;</code>&#8217;s for tabular data when CSS came around.</p>
<p>Anyway, the point I&#8217;m trying to come around to and probably should have come right out with, is just that I think we should be <em>trying</em> to use the verb that&#8217;s most appropriate for the situation. The problem is that it&#8217;s not <em>easy</em> to do so. From the perspective of the lazy hacker, the <em>simplest</em> and <em>best</em> choice, given the current set of popular web frameworks and libraries (on both the client and server) is to re-implement PUT and DELETE on top of POST at the application layer every single time. And the lazy hacker is always right. But I think that one day in the maybe not-too-distant future the lazy hacker will change her mind because the tooling around building and interacting with resources using PUT/DELETE will <em>save</em> her time and energy and bring extra advantages instead of being a big nuisance.</p>
<p>No one is going to do this stuff because it&#8217;s compelling from a philosophical standpoint. It will take new tools and efficiencies, browsers and client-side libraries, web frameworks that make it easier to do cooler stuff with better clients, etc. The web&#8217;s common vernacular will extend into the less explored aspects of HTTP when the practical advantages of doing so present themselves. But that&#8217;s what&#8217;s so friggin cool and weird about it: HTTP has been around forever and might be only 10% into it&#8217;s implementation phase and it&#8217;s hard to tell exactly what we should implement next to get the most bang for our buck.</p>
      <p>
			<small>comment at <a href="#comment-1344" title="">22. March 2006</a> </small>
						</p>

		</li>

	
	
		<li class="alt" id="comment-1351">
			<p class="who"><cite><a href='http://www.mnot.net/' rel='external ' title='67.119.69.243'>Mark Nottingham</a></cite>:</p>
			<p>Ian,</p>
<p>I&#8217;ve seen the same kinds of discussions (focusing on aesthetics more than function), and have similar concerns; it&#8217;s a very easy trap to fall into. Howeer, I draw a different conclusion. As I said, some of the benefits of focusing on these apparently non-productive parts of REST is that they make it more likely that you&#8217;ll trip over the productive parts (e.g., caching). </p>
<p>PUT and DELETE, for example, give you a cleaner design if you need those semantics. While you could stuff them inside POST, you&#8217;d need to then find a way to dispatch and differentiate them; probably in the URI. And then, you wouldn&#8217;t get the benefits of invalidation in caches.</p>
<p>Part of what I&#8217;m doing at Yahoo is documenting best practices for REST. Engineers there are smart, and will immediately ask what the benefit of a particular recommendation is, calling BS if there isn&#8217;t one. So, I have to justify every recommendation with tangible benefits. I&#8217;m still in-progress, but I hope to report some of the results when they&#8217;re more baked.</p>
<p>Ryan,</p>
<p>I agree with much of what you say, but how does Squid take advantage of PUT and DELETE today? I don&#8217;t think it retries them (taking advantage of idempotence). Also, there&#8217;s some debate of the idempotence of PUT, because WebDAV allows it to have side effects (creating a new revision). I believe DELETE can have side effects as well.</p>
      <p>
			<small>comment at <a href="#comment-1351" title="">22. March 2006</a> </small>
						</p>

		</li>

	
	
		<li class="alt" id="comment-1352">
			<p class="who"><cite><a href='http://www.markbaker.ca' rel='external ' title='209.161.202.187'>Mark Baker</a></cite>:</p>
			<p>I just didn&#8217;t know where to start, Ryan.</p>
<p>I also didn&#8217;t appreciate the characteriziation of my work as the &#8220;result of people who just can’t help but make architecture&#8221;, which motivated the terse (and, admittedly, unhelpful) response.</p>
      <p>
			<small>comment at <a href="#comment-1352" title="">22. March 2006</a> </small>
						</p>

		</li>

	
	
		<li class="alt" id="comment-1355">
			<p class="who"><cite><a href='http://franklinmint.fm' rel='external ' title='66.28.217.202'>Robert Sayre</a></cite>:</p>
			<p>&#8220;the result of people who just can&#8217;t help but make architecture&#8221;</p>
<p>Hmm. Maybe that&#8217;s another example of the type of stuff that is a little too trollish. If we can piss each other off with that stuff, imagine how a C# developer who worked hard some SOAP thing must feel reading this site. </p>
<p>I guess it depends on whether we want people to adopt REST. If we want to reserve a space to feel smug and superior, it seems like we&#8217;re doing a great job.</p>
      <p>
			<small>comment at <a href="#comment-1355" title="">22. March 2006</a> </small>
						</p>

		</li>

	
	
		<li class="alt" id="comment-1371">
			<p class="who"><cite><a href='http://mindlace.net' rel='external ' title='66.92.68.23'>Ethan Fremen</a></cite>:</p>
			<p>The main way in which the additional verbs are really helpful in an application is whenever you want to manipulate multiple resources at once. Of course, in most cases where you&#8217;re doing that, you&#8217;re using even more of those &#8216;useless&#8217; verbs, like MKCOL and PROPFIND etc.</p>
<p>To me it&#8217;s like you&#8217;re arguing that the only methods anyone ever needs on a class are gettr and settr methods.</p>
<p>It is mostly true that the prettiness of the URLs is only germane to human memory, but sometimes that is quite relevant to your application.</p>
      <p>
			<small>comment at <a href="#comment-1371" title="">23. March 2006</a> </small>
						</p>

		</li>

	
	
		<li class="alt" id="comment-1376">
			<p class="who"><cite><a href='http://www.peej.co.uk/' rel='external ' title='82.151.250.39'>Paul James</a></cite>:</p>
			<p><em>Ethan:</em> You don&#8217;t need new verbs to manipulate multiple resources at once, you just need another resource that represents all the resources you want to manipulate together and to then manipulate that with your existing verbs.</p>
      <p>
			<small>comment at <a href="#comment-1376" title="">25. March 2006</a> </small>
						</p>

		</li>

	
	        
	</ol>

 


	
	</div>


<div id="footer">
	<p style="float: left;">
		feeds: 
    <a href="http://lesscode.org/feed/atom/" title="Atom 0.3 feed for all posts">
      posts</a> (<a href="http://feedvalidator.org/check.cgi?url=http://lesscode.org/feed/atom/">valid?</a>)
    or <a href="http://lesscode.org/comments/feed/" title="RSS 2.0 feed for comments">comments</a>
       (<a href="http://feedvalidator.org/check.cgi?url=http://lesscode.org/comments/feed/">valid?</a>)
    <br />
		design by <a href="http://blog.ratterobert.com/">ratter / robert</a><br />
		powered by <a href="http://wordpress.org">WordPress</a>.<a href="http://wordpress.de">de</a><br />
	</p>
		<a name="search"><form method="get" id="searchform" action="/index.php">
<div><input type="text" value="" name="s" id="s" />
<input type="submit" id="searchsubmit" value="Search" />
</div>
</form>
</a>
</div>
<div id="switcher">
	<center>
			</center>
</div>
</div>
		</body>
</html>

<!-- Dynamic Page Served (once) in 0.347 seconds -->
<!-- Cached page served by WP-Cache -->
